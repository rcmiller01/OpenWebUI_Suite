# OpenRouter Refactor Environment Configuration
# Add these variables to your .env or docker-compose environment

# ===================================================================
# OPENROUTER GATEWAY CONFIGURATION
# ===================================================================

# OpenRouter API Key (Required)
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Gateway Service URL
OPENROUTER_GATEWAY_URL=http://00-pipelines-gateway:8000

# Gateway Timeout Settings
OPENROUTER_GATEWAY_TIMEOUT=60

# ===================================================================
# LOCAL FALLBACK CONFIGURATION  
# ===================================================================

# Llama.cpp Server Configuration
LLAMACPP_HOST=localhost
LLAMACPP_PORT=8080
LLAMACPP_TIMEOUT=30

# Local Model Configuration
LOCAL_MODEL=q4_7b.gguf

# ===================================================================
# TOOL INTEGRATION CONFIGURATION
# ===================================================================

# n8n Workflow Integration
N8N_WEBHOOK_URL=http://192.168.50.145:5678/webhook/openrouter-router

# Model Context Protocol Integration
MCP_ENDPOINT=http://core3:8765

# ===================================================================
# MEMORY SERVICE CONFIGURATION
# ===================================================================

# Memory 2.0 Service
MEMORY_SERVICE_URL=http://02-memory-2.0:8002

# ===================================================================
# MODEL ROUTING CONFIGURATION
# ===================================================================

# Enable different routing modes
ENABLE_CONTENT_ANALYSIS=true
ENABLE_TOOL_ROUTING=true
ENABLE_VISION_ROUTING=true
ENABLE_EXPLICIT_ROUTING=true

# Fallback behavior
ENABLE_LOCAL_FALLBACK=true
REQUIRE_OPENROUTER_API_KEY=false

# ===================================================================
# LOGGING AND MONITORING
# ===================================================================

# Debug mode for OpenRouter integration
OPENROUTER_DEBUG=false
OPENROUTER_LOG_LEVEL=INFO

# Health check intervals (seconds)
PROVIDER_HEALTH_CHECK_INTERVAL=300
ROUTING_REFRESH_INTERVAL=600

# ===================================================================
# OPENWEBUI CORE INTEGRATION
# ===================================================================

# Enable OpenRouter integration in OpenWebUI
ENABLE_OPENROUTER_INTEGRATION=true

# Default provider selection
DEFAULT_PROVIDER=openrouter
FALLBACK_PROVIDER=local_fallback

# Model selection behavior
AUTO_MODEL_SELECTION=true
SHOW_PROVIDER_STATUS=true

# Admin interface features
SHOW_ROUTING_STATUS=true
SHOW_TOOL_HEALTH=true
ENABLE_PROVIDER_MANAGEMENT=true

# ===================================================================
# SERVICE DISCOVERY
# ===================================================================

# Service URLs for Docker composition
PIPELINES_GATEWAY_URL=http://00-pipelines-gateway:8000
INTENT_ROUTER_URL=http://01-intent-router:8001
MEMORY_SERVICE_URL=http://02-memory-2.0:8002
FEELING_ENGINE_URL=http://03-feeling-engine:8003

# Health check endpoints
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ===================================================================
# SECURITY CONFIGURATION
# ===================================================================

# API security
GATEWAY_API_KEY_REQUIRED=false
GATEWAY_RATE_LIMIT_ENABLED=true
GATEWAY_RATE_LIMIT_REQUESTS=100
GATEWAY_RATE_LIMIT_WINDOW=60

# Request validation
VALIDATE_MODEL_NAMES=true
VALIDATE_TOOL_CALLS=true
SANITIZE_USER_INPUT=true
