# OpenWebUI Suite Environment Variables
# Copy this file to .env.prod and configure your values

# ===== GLOBAL/CORE VARIABLES =====
# Redis connection for caching and task queues
REDIS_URL=redis://localhost:6379

# OpenTelemetry tracing (optional)
ENABLE_OTEL=false
#OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:14268
#OTEL_SERVICE_NAME=openwebui-gateway

# ===== PIPELINES GATEWAY (00-pipelines-gateway) =====
# Rate limiting (optional)
#RATE_LIMIT_PER_MIN=60
#RATE_LIMIT_BURST=10

# Remote code routing
REMOTE_CODE_ROUTING=true
REMOTE_CODE_MIN_CHARS=350
REMOTE_CODE_KEYWORDS=python,javascript,typescript,java,cpp,rust,go,sql,html,css

# Pipeline settings
#PIPELINE_TIMEOUT_SECONDS=300
TASK_WORKER_ENABLED=true
TASK_QUEUE_NAME=pipeline_tasks
TASK_DQL_NAME=pipeline_tasks_dlq

# File handling
FILE_STORAGE_PATH=data/files
MAX_FILE_BYTES=2097152
ALLOWED_FILE_EXTENSIONS=txt,md,py,js,ts,html,css,json,xml,csv,log
ENABLE_FILE_SNIPPETS=true
FILE_SNIPPET_MAX_CHARS=1200
FILE_SNIPPET_KEYWORDS=function,class,def,async,import,export,const,let,var

# Database
GATEWAY_DB=/data/gateway.db

# ===== TANDOOR SIDECAR (07-tandoor-sidecar) =====
# Tandoor Recipes integration - REQUIRED
TANDOOR_URL=http://localhost:8080

# Choose ONE authentication method:
# Option 1: API Token (recommended)
#TANDOOR_API_TOKEN=your_api_token_here

# Option 2: Username/Password
#TANDOOR_USERNAME=admin
#TANDOOR_PASSWORD=your_password_here

# ===== OPENBB SIDECAR (08-openbb-sidecar) =====
# OpenBB Platform integration - REQUIRED
OPENBB_PAT=your_openbb_pat_here

# ===== FASTVLM SIDECAR (16-fastvlm-sidecar) =====
# Apple FastVLM configuration
FASTVLM_MODEL=apple/fastvlm-2.7b
DEVICE=cuda
TORCH_DTYPE=float16
MAX_TOKENS=192

# ===== OLLAMA PLUGIN =====
# Ollama server configuration - REQUIRED
OLLAMA_HOST=http://core2-gpu:11434
OWUI_MEMORY_PATH=./data/memory.sqlite

# ===== ADDITIONAL NOTES =====
# 1. Uncomment and set variables marked as REQUIRED
# 2. Adjust URLs to match your deployment environment
# 3. For Tandoor: Either use API token OR username/password, not both
# 4. For GPU acceleration: Ensure DEVICE=cuda and proper GPU drivers
# 5. File paths are relative to container working directory
